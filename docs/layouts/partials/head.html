{{/* Clean head.html for Project Indexly */}}

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

{{ range .AlternativeOutputFormats -}}
<link rel="{{ .Rel }}" type="{{ .MediaType.Type }}" href="{{ .Permalink | safeURL }}">
{{ end }}

{{ if hugo.IsProduction }}
<meta name="robots" content="index, follow">
{{ else }}
<meta name="robots" content="noindex, nofollow">
{{ end }}

<!-- Favicon & Touch Icons -->
{{ with .Site.Params.favicon }}
  <!-- Standard favicon -->
  <link rel="icon" type="image/png" sizes="32x32" href="{{ . | relURL }}">
  <link rel="icon" type="image/png" sizes="16x16" href="{{ . | relURL }}">

  <!-- Apple / iOS -->
  <link rel="apple-touch-icon" sizes="180x180" href="{{ . | relURL }}">

  <!-- Android / Chrome -->
  <link rel="icon" type="image/png" sizes="192x192" href="{{ . | relURL }}">

  <!-- Shortcut icon for legacy browsers -->
  <link rel="shortcut icon" href="{{ . | relURL }}">
{{ end }}

<title>
  {{- if .IsHome -}}
    {{ .Site.Title -}}
  {{ else -}}
    {{ with .Title }}{{ . }} | {{ end -}}
    {{ .Site.Title -}}
  {{ end -}}
</title>

{{ if .IsHome }}
<link rel="canonical" href="https://projectindexly.com/en/">
<link rel="alternate" href="https://projectindexly.com/en/" hreflang="en">
<link rel="alternate" href="https://projectindexly.com/de/" hreflang="de">
<link rel="alternate" href="https://projectindexly.com/" hreflang="x-default">
{{ else }}
<link rel="canonical" href="{{ .Permalink }}">
{{ $url := .Permalink }}
<link rel="alternate" href="{{ $url | replaceRE "/en/" "/en/" }}" hreflang="en">
<link rel="alternate" href="{{ $url | replaceRE "/en/" "/de/" }}" hreflang="de">
<link rel="alternate" href="{{ $url | replaceRE "/en/" "/" }}" hreflang="x-default">
{{ end }}

<!-- Meta description & keywords -->
<meta name="description" content="{{ with .Params.description }}{{ . }}{{ else }}{{ .Site.Params.description }}{{ end }}">
<meta name="keywords" content="{{ with .Params.keywords }}{{ delimit . ", " }}{{ else }}{{ .Site.Params.keywords }}{{ end }}">

<!-- Open Graph -->
<meta property="og:title" content="{{ if .IsHome }}{{ .Site.Title }}{{ else }}{{ .Title }} | {{ .Site.Title }}{{ end }}">
<meta property="og:description" content="{{ with .Params.description }}{{ . }}{{ else }}{{ .Site.Params.description }}{{ end }}">
<meta property="og:url" content="{{ .Permalink }}">
<meta property="og:image" content="{{ with .Params.images }}{{ index . 0 | relURL }}{{ else }}{{ .Site.Params.opengraphImage | relURL }}{{ end }}">
<meta property="og:type" content="website">

<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="{{ if .IsHome }}{{ .Site.Title }}{{ else }}{{ .Title }} | {{ .Site.Title }}{{ end }}">
<meta name="twitter:description" content="{{ with .Params.description }}{{ . }}{{ else }}{{ .Site.Params.description }}{{ end }}">
<meta name="twitter:image" content="{{ with .Params.images }}{{ index . 0 | relURL }}{{ else }}{{ .Site.Params.opengraphImage | relURL }}{{ end }}">

<!-- CSS & scripts -->
{{ partialCached "head-css.html" . "head-css-cache-key" -}}
<link rel="stylesheet" href="{{ "css/custom.css" | relURL }}">
<link rel="stylesheet" href="{{ "vendor/fontawesome/css/all.min.css" | relURL }}">

{{ if .Site.Params.offlineSearch -}}
<script defer src="https://unpkg.com/lunr@2.3.9/lunr.min.js"
  integrity="sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli"
  crossorigin="anonymous"></script>
{{ end }}

{{ if .Site.Params.prism_syntax_highlighting -}}
<link rel="stylesheet" href="{{ "css/prism.css" | relURL }}"/>
{{ end }}

{{ partial "opengraph.html" . -}}
{{ partial "schema.html" . -}}
{{ partial "twitter_cards.html" . -}}
{{ partial "hooks/head-end.html" . -}}

{{ if hugo.IsProduction -}}
{{ partial "google_analytics.html" . -}}
{{ end }}

